#!/usr/bin/env sh

if ! `which pygmentize &>/dev/null`; then
    echo "pygmentize not found"
    echo "easy_install it"
    exit 1
fi

if [ ! -t 0 ]; then
    file=/dev/stdin
elif [ -f $1 ]; then
    file=$1
else
    echo "Usage: ccat code.c"
    echo "or e.g. head code.c | ccat"
    exit 2
fi

pygmentize -f terminal -g $file

# vim: ft=sh:
